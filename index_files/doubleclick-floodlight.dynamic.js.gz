window['doubleclick-floodlightDeps'] = ["/integrations/vendor/commons.54701049fd6fb8497e9e.js"];window['doubleclick-floodlightLoader'] = function() { return window["doubleclick-floodlightIntegration"]=function(t){function e(e){for(var o,a,s=e[0],c=e[1],l=e[2],p=0,d=[];p<s.length;p++)a=s[p],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&d.push(n[a][0]),n[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);for(u&&u(e);d.length;)d.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],o=!0,s=1;s<r.length;s++){var c=r[s];0!==n[c]&&(o=!1)}o&&(i.splice(e--,1),t=a(a.s=r[0]))}return t}var o={},n={39:0},i=[];function a(e){if(o[e])return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=o,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(r,o,function(e){return t[e]}.bind(null,o));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window.webpackJsonp_name_Integration=window.webpackJsonp_name_Integration||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;return i.push(["cJAk",0]),r()}({cJAk:function(t,e,r){"use strict";var o=r("hjHq"),n=r("6YGp"),i=r("LUFQ"),a=r("Kfgy"),s=r("WiAo").find,c=r("3IO0"),l=t.exports=o("DoubleClick Floodlight").option("source","").option("getDoubleClickId",!1).option("googleNetworkId","").option("segmentWriteKey","").option("useTransactionCounting",!1).tag("counter",'<iframe src="https://{{ src }}.fls.doubleclick.net/activityi;src={{ src }};type={{ type }};cat={{ cat }};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord={{ ord }}{{ customVariables }}?">').tag("sales",'<iframe src="https://{{ src }}.fls.doubleclick.net/activityi;src={{ src }};type={{ type }};cat={{ cat }};qty={{ qty }};cost={{ cost }};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord={{ ord }}{{ customVariables }}?">').tag("doubleclick id",'<img src="//cm.g.doubleclick.net/pixel?google_nid={{ googleNetworkId }}&segment_write_key={{ segmentWriteKey }}&google_hm={{ partnerProvidedId }}"/>');l.prototype.initialize=function(){this.options.getDoubleClickId&&this.options.googleNetworkId&&this.load("doubleclick id",{googleNetworkId:this.options.googleNetworkId,segmentWriteKey:this.options.segmentWriteKey,partnerProvidedId:btoa(this.analytics.user().anonymousId())}),this.ready()},l.prototype.track=function(t){var e=[];if(this.options.events&&this.options.events.length){for(var r=0;r<this.options.events.length;r++){var o=this.options.events[r];o.value?c(o.key)===c(t.event())&&e.push(o.value):c(o.event)===c(t.event())&&e.push(o)}var l=this.options;if(e.length&&l.source){var u=t.properties(),p=this,d=i((function(e,r){var o=r.type||l.groupTag,i=r.event,c=r.cat||l.activityTag;if(!i||!c||!o)return e;var d={};n((function(e){var r,o=e.value,i=e.key.match(/{{(.*)}}/)||e.key;if(e.key.includes("$")&&(i=e.key.split(".$.")),Array.isArray(i)&&"products"===i[0]){i=i.pop();var a=[];n((function(t){t[i]&&a.push(t[i])}),t.products()),r=a.join(",")}else r=Array.isArray(i)?"userId"===(i=i.pop())?p.analytics.user().id():s(t.json(),i):u[i];r&&(d[o]=r)}),r.customVariable);var f=a.stringify(d).replace(/&/g,";");r.customVariable.length&&(f=";"+f);var y={src:l.source,type:o,cat:c,customVariables:f};if(r.isSalesTag){y._type="sales";var g=0;t.products().length?n((function(t){g+=t.quantity||0}),t.products()):u.quantity&&(g=u.quantity),g&&(y.qty=g),l.useTransactionCounting&&(y.qty=1),t.revenue()&&(y.cost=t.revenue()),y.ord=t.proxy(r.ordKey)}else y.ord=1e19*Math.random();return e.push(y),e}),[],e);n((function(t){return"sales"===t._type?p.load("sales",t):p.load("counter",t)}),d)}}},l.prototype.page=function(t){var e=t.fullName();e&&this.track(t.track(e))}}});
//# sourceMappingURL=doubleclick-floodlight.js.map
};